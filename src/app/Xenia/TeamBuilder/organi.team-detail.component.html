<div class="card" *ngIf="team && piPerson">
    <div class="card-body">
        <h5><span [style.color]="'red'">Team</span>: {{team.name || piPerson.annotation.fullName || 'not named yet' }} </h5>
        <br/>
        <ngb-tabset>
            <ngb-tab title="{{'PUBLIC.TEAMBUILDER.ORGANI.MENU.ABOUT TEAM' | translate}}" id="tabInfoTeam">
                <ng-template ngbTabContent>
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3 align-self-center">{{'PUBLIC.TEAMBUILDER.ORGANI.LABEL.TEAM NAME' | translate}}:</div>
                                <div class="col-sm-6 align-self-center">
                                    <gg-editor [content]="team.name" [showControls]="true" (editSaved)="nameUpdated($event)" [readOnly]="!isMyTeam()"></gg-editor>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ngb-tab>
            <ngb-tab title="{{'PUBLIC.TEAMBUILDER.ORGANI.MENU.ABOUT PI' | translate}}" id="tabMyself">
                <ng-template ngbTabContent>
                    <div class="card">
                        <div class="card-body">
                            <gg-giga-person-detail [personId]="piId"></gg-giga-person-detail>
                        </div>
                    </div>
                </ng-template>
            </ngb-tab>
            <ngb-tab id="tabPersons" *ngIf="((personsObservable | async) || []).length > 0">
                <ng-template ngbTabTitle>
                    <span [ngbTooltip]="'PUBLIC.TEAMBUILDER.ORGANI.MENU.TEAM MEMBERS TIP' | translate">
                        {{('PUBLIC.TEAMBUILDER.ORGANI.MENU.THE' | translate) + ' ' + ('PUBLIC.TEAMBUILDER.TASKS.MENU.TEAM MEMBERS' | translate) +
                        ' (' + ((personsObservable | async) || []).length + ')'}}
                    </span>
                </ng-template>
                <ng-template ngbTabContent>
                    <gg-giga-person-list [personsObservable]="personsObservable"></gg-giga-person-list>
                </ng-template>
            </ngb-tab>
            <ngb-tab id="tabPersonSelection" *ngIf="personneIds && (isMyTeam() ||  authorizationStatusInfo?.isAdministrator())">
                <ng-template ngbTabTitle>
                    <span [ngbTooltip]="'PUBLIC.TEAMBUILDER.TASKS.HELP.TAB TIP SELECT' | translate">
                        {{('PUBLIC.TEAMBUILDER.TASKS.MENU.SELECT PERSONS' | translate) + ' ' + ('PUBLIC.TEAMBUILDER.TASKS.MENU.TEAM MEMBERS' | translate)}}
                    </span>
                </ng-template>
                <ng-template ngbTabContent>
                    <gg-giga-persons-selection [selectedPersonIds]="personneIds" (selectionChanged)="personsSelectionChanged($event)"></gg-giga-persons-selection>
                </ng-template>
            </ngb-tab>
        </ngb-tabset>
    </div>
</div>